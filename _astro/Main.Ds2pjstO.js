import{i as U}from"./if.CkNKe8bG.js";import{$ as ve,aA as Me,a1 as X,R as Q,q as se,Q as Ve,ax as He,W as Ue,aB as Be,aC as Ye,aD as Ge,aE as We,a5 as Ce,a8 as Ee,aF as Xe,j as t,aG as Ze,a as he,g as z,aH as Qe,aI as Je,aJ as Ke,aK as er,af as rr,aL as tr,d as oe,p as ie,s as q,f as j,h as v,t as B,aM as Ie,c as S,e as ne,b as x,k as n,aN as ar,X as fe,i as D,aO as lr,l as De,aP as ge,ay as Ne,az as be}from"./render.OUX3dftk.js";import{e as Y,b as sr,s as Z,r as or,i as G,a as N}from"./_sanity_client.DbFC0rOq.js";/* empty css                       */function ir(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function nr(r){ve===null&&ir(),Me&&ve.l!==null?ur(ve).m.push(r):X(()=>{const e=Q(r);if(typeof e=="function")return e})}function ur(r){var e=r.l;return e.u??={a:[],b:[],m:[]}}const Ae=[...` 	
\r\f \v\uFEFF`];function dr(r,e,l){var a=r==null?"":""+r;if(e&&(a=a?a+" "+e:e),l){for(var o in l)if(l[o])a=a?a+" "+o:o;else if(a.length)for(var s=o.length,i=0;(i=a.indexOf(o,i))>=0;){var u=i+s;(i===0||Ae.includes(a[i-1]))&&(u===a.length||Ae.includes(a[u]))?a=(i===0?"":a.substring(0,i))+a.substring(u+1):i=u}}return a===""?null:a}function cr(r,e){return r==null?null:String(r)}function O(r,e,l,a,o,s){var i=r.__className;if(se||i!==l||i===void 0){var u=dr(l,a,s);(!se||u!==r.getAttribute("class"))&&(u==null?r.removeAttribute("class"):e?r.className=u:r.setAttribute("class",u)),r.__className=l}else if(s&&o!==s)for(var _ in s){var g=!!s[_];(o==null||g!==!!o[_])&&r.classList.toggle(_,g)}return s}function vr(r,e,l,a){var o=r.__style;if(se||o!==e){var s=cr(e);(!se||s!==r.getAttribute("style"))&&(s==null?r.removeAttribute("style"):r.style.cssText=s),r.__style=e}return a}function Se(r,e){return r===e||r?.[Be]===e}function pe(r={},e,l,a){return Ve(()=>{var o,s;return He(()=>{o=s,s=[],Q(()=>{r!==l(...s)&&(e(r,...s),o&&Se(l(...o),r)&&e(null,...o))})}),()=>{Ue(()=>{s&&Se(l(...s),r)&&e(null,...s)})}}),r}let le=!1;function fr(r){var e=le;try{return le=!1,[r(),le]}finally{le=e}}function gr(r,e=1){const l=r();return r(l+e),l}function br(r,e=1){const l=r()+e;return r(l),l}function Le(r){return r.ctx?.d??!1}function W(r,e,l,a){var o=(l&er)!==0,s=!Me||(l&Ke)!==0,i=(l&Qe)!==0,u=(l&tr)!==0,_=!1,g;i?[g,_]=fr(()=>r[e]):g=r[e];var L=Be in r||Je in r,k=i&&(Ye(r,e)?.set??(L&&e in r&&(d=>r[e]=d)))||void 0,m=a,P=!0,w=!1,f=()=>(w=!0,P&&(P=!1,u?m=Q(a):m=a),m);g===void 0&&a!==void 0&&(k&&s&&Ge(),g=f(),k&&k(g));var p;if(s)p=()=>{var d=r[e];return d===void 0?f():(P=!0,w=!1,d)};else{var M=(o?Ce:Ee)(()=>r[e]);M.f|=We,p=()=>{var d=t(M);return d!==void 0&&(m=void 0),d===void 0?m:d}}if((l&Xe)===0&&s)return p;if(k){var b=r.$$legacy;return function(d,E){return arguments.length>0?((!s||!E||b||_)&&k(E?p():d),d):p()}}var C=!1,y=rr(g),c=Ce(()=>{var d=p(),E=t(y);return C?(C=!1,E):y.v=d});return i&&t(c),o||(c.equals=Ze),function(d,E){if(arguments.length>0){const $=E?t(c):s&&i?he(d):d;if(!c.equals($)){if(C=!0,z(y,$),w&&m!==void 0&&(m=$),Le(c))return d;Q(()=>t(c))}return d}return Le(c)?c.v:t(c)}}const ze=(r,e=fe,l)=>{let a=Ee(()=>lr(l?.(),!1));var o=_r(),s=v(o),i=v(s);{var u=w=>{var f=pr();S(w,f)},_=w=>{var f=hr();S(w,f)};U(i,w=>{t(a)?w(u):w(_,!1)})}var g=x(i,2),L=v(g,!0);n(g);var k=x(g,2),m=v(k),P=v(m,!0);n(m),n(k),n(s),n(o),B(()=>{N(o,"href",`/blog/post/${e().slug??""}`),D(L,e().title),D(P,e().description)}),S(r,o)};var pr=De('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 place-self-center"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg>'),hr=De('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 place-self-center"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"></path></svg>'),_r=j('<a><article class="group grid grid-cols-[3rem_1fr] gap-1 py-3 mb-2 bg-gray-300/40 dark:bg-blue-950/80  text-primary dark:text-gray-200 dark:border-1 dark:border-gray-700 rounded-md cursor-pointer"><!> <h3 class="text-lg font-semibold"> </h3> <div class="col-start-2 grid grid-rows-[0fr] group-hover:grid-rows-[1fr] text-sm text-gray-600 dark:text-gray-200 transition-all duration-300"><span class="overflow-hidden"> </span></div></article></a>'),mr=(r,e)=>z(e,!0),xr=j('<h2 class="font-bold text-lg mb-1">Search Results</h2>'),wr=j('<p class="text-gray-500 dark:text-gray-200">No results found</p>'),yr=j('<aside><div><div class="sticky top-0"><div class="flex h-14 items-center gap-2 w-full"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg> <input type="text" placeholder="Search..." class="w-full p-2 border-primary dark:border-background border-b focus:outline-none focus:border-blue-500 focus:border-b-2 transition-colors"/></div></div> <!> <div class="overflow-y-auto h-max svelte-14267xh"><!> <!></div></div> <div><h2 class="block font-bold sticky top-0 pt-2 pb-1 text-2xl mb-2 text-primary dark:text-background">Popular Posts</h2> <div class="overflow-y-auto transition-[grid-template-rows] duration-300 svelte-14267xh"></div></div> <div class="bg-gray-300/80 dark:bg-blue-950/80 dark:border-1 dark:border-gray-700 backdrop-blur px-3 py-2 rounded-lg"><h2 class="font-bold text-2xl mb-1 text-primary dark:text-background">Follow Us</h2> <div class="flex gap-3 justify-center"><a href="#" class="group flex items-center justify-center p-3 bg-gray-300/40 dark:bg-blue-950/80  text-primary rounded-md hover:bg-red-500/20 dark:hover:bg-red-500/40 hover:scale-110 transition-scale cursor-pointer" aria-label="Follow us on YouTube"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="size-6 text-red-600"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a> <a href="#" class="group flex items-center justify-center p-3 bg-gray-300/40 dark:bg-blue-950/80 text-primary rounded-md hover:bg-blue-500/20 dark:hover:bg-blue-500/30 hover:scale-110 transition-scale cursor-pointer" aria-label="Follow us on Facebook"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="size-6 text-blue-600"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></a> <a href="#" class="group flex items-center justify-center p-3 bg-gray-300/40 dark:bg-blue-950/80 text-primary rounded-md hover:bg-gray-500/20 dark:hover:bg-gray-200/20 hover:scale-110 transition-scale cursor-pointer" aria-label="Follow us on GitHub"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="size-6 text-gray-700 dark:text-gray-300"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></div></div></aside>');function je(r,e){ie(e,!0);let l=W(e,"className",3,""),a=q(!1),o=q(he([])),s=q("");X(()=>{t(s),Q(()=>{(async()=>{if(!t(s).trim()){t(o).length=0,z(o,[],!0);return}let c=await Z.fetch(`*[_type == "post" && title match $search] | order(publishedAt desc) {
              _id,
              title,
              "slug": slug.current,
              description
            }`,{search:`*${t(s)}*`});z(o,c,!0)})()})});var i=yr(),u=v(i);u.__focusin=[mr,a];let _;var g=v(u),L=v(g),k=x(v(L),2);or(k),n(L),n(g);var m=x(g,2);{var P=c=>{var d=xr();S(c,d)};U(m,c=>{t(s)&&t(o).length>0&&c(P)})}var w=x(m,2),f=v(w);Y(f,17,()=>t(o),G,(c,d)=>{ze(c,()=>t(d),()=>!0)});var p=x(f,2);{var M=c=>{var d=wr();S(c,d)};U(p,c=>{t(s)&&t(o).length===0&&c(M)})}n(w),n(u);var b=x(u,2);let C;var y=x(v(b),2);Y(y,21,()=>e.popularPosts,G,(c,d)=>{ze(c,()=>t(d))}),n(y),n(b),ar(2),n(i),B((c,d)=>{O(i,1,`sticky top-[7rem] h-[calc(100vh-7.75rem)] flex flex-col gap-3
 ${l()??""}`,"svelte-14267xh"),_=O(u,1,"h-16 flex flex-col overflow-clip justify-start text-primary px-4 rounded-lg bg-blue-300/20 dark:text-gray-200 backdrop-blur gap-2 transition-[flex] duration-300",null,_,c),C=O(b,1,"overflow-y-hidden bg-gray-200 dark:bg-blue-950/80 dark:border-gray-700 dark:border-1 backdrop-blur px-3 pb-2 rounded-lg grid grid-rows-[auto_0fr] transition-[flex] duration-300",null,C,d)},[()=>({"flex-1":t(a)}),()=>({"flex-1":!t(a),"grid-rows-[auto_1fr]":!t(a)})]),Ie("blur",u,()=>z(a,!1)),sr(k,()=>t(s),c=>z(s,c)),S(r,i),ne()}oe(["focusin"]);var kr=(r,e,l)=>{r.preventDefault(),e(r.target),l.onCategoryClick("all")},Pr=(r,e,l,a)=>{r.preventDefault(),e(r.target),l.onCategoryClick(t(a).replaceAll(" ","-").toLowerCase())},Cr=j("<a> </a>"),Ar=j('<div role="button" tabindex="0" aria-label="Category list"><a id="all" class="category-item h-10 mx-2 px-3 min-w-[6rem] outline-3 outline-blue-800 outline-offset-3 shadow-lg cursor-pointer bg-emerald-400/50 backdrop-blur-sm border border-emerald-300/40 flex items-center rounded-lg  font-semibold text-white text-shadow-xs transition-colors shrink-0 select-none dark:outline-background">All</a> <!></div>');function Sr(r,e){ie(e,!0);let l=["bg-blue-400/50 backdrop-blur-sm border border-blue-300/40","bg-indigo-400/50 backdrop-blur-sm border border-indigo-300/35","bg-purple-400/50 backdrop-blur-sm border border-purple-300/35","bg-teal-400/30 backdrop-blur-sm border border-teal-300/40"],a=W(e,"currCategory",3,""),o=-1;function s(){let b=Math.floor(Math.random()*l.length);return b===o?s():(o=b,l[b])}let i,u=!1,_,g;function L(b){u=!0,_=b.pageX-i.offsetLeft,g=i.scrollLeft,i.style.cursor="grabbing"}function k(b){if(!u)return;b.preventDefault();const y=(b.pageX-i.offsetLeft-_)*2;i.scrollLeft=g-y}function m(){u=!1,i.style.cursor="grab"}function P(b){b.parentElement.querySelectorAll("a").forEach(C=>{C.classList.remove("outline-3","outline-blue-800","outline-offset-3")}),b.classList.add("outline-3","outline-blue-800","outline-offset-3")}let w;nr(()=>{document.querySelectorAll(".category-item").forEach(b=>{b.id===a()&&P(b)})});var f=Ar();f.__mousedown=L,f.__mousemove=k,f.__mouseup=m;var p=v(f);N(p,"href","/blog/"),N(p,"aria-label","View all posts"),p.__click=[kr,P,e],pe(p,b=>w=b,()=>w);var M=x(p,2);Y(M,17,()=>e.categories,G,(b,C)=>{var y=Cr();y.__click=[Pr,P,e,C];var c=v(y,!0);n(y),B((d,E,$)=>{N(y,"id",d),N(y,"href",E),N(y,"aria-label",`View posts in ${t(C)} category`),O(y,1,`category-item h-10 mx-2 px-3 min-w-[6rem] shadow-lg cursor-pointer flex items-center rounded-lg ${$??""} dark:outline-background font-semibold text-white text-shadow-xs transition-colors shrink-0 select-none`,"svelte-1gmud3q"),D(c,t(C))},[()=>t(C).replaceAll(" ","-").toLowerCase(),()=>`/blog/category/${t(C).replaceAll(" ","-").toLowerCase()}`,s]),S(b,y)}),n(f),pe(f,b=>i=b,()=>i),B(()=>O(f,1,`scrollable w-full bg-blue-300/20 h-16 flex items-center px-2 rounded-lg backdrop-blur overflow-x-auto cursor-grab active:cursor-grabbing  ${e.className??""}`,"svelte-1gmud3q")),Ie("mouseleave",f,m),S(r,f),ne()}oe(["mousedown","mousemove","mouseup","click"]);const Lr=`
    title,
    "slug": slug.current,
    "imgSrc": mainImage.asset->url,
    "description": array::join(body[_type == "block"][0].children[].text,""),
    "categories": categories[]->title,
    "author": author->name,
    "tags": tags[]->name,
    "date": publishedAt
`;await Z.fetch(`
  *[_type == "post" && defined(slug) && isPopular] | order(publishedAt desc){
    title,
    "slug": slug.current,
    "description": array::join(body[_type == "block"][0].children[].text,""),
  }
`);await Z.fetch(`
  *[_type == "category"].title
`);var zr=(r,e)=>gr(e,-1),jr=j('<span class="flex items-center justify-center w-10 h-10 text-gray-500/70 dark:text-gray-200/70">...</span>'),Mr=(r,e,l)=>e(t(l)),Br=j("<button> </button>"),Er=(r,e)=>br(e),Ir=j('<div class="relative flex items-center justify-center gap-2 py-6 z-10"><button aria-label="Previous Page" class="flex items-center justify-center w-10 h-10 rounded-full bg-slate-700 border border-slate-600/50 text-white hover:bg-slate-800 hover:border-slate-700/60 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-300 shadow-lg"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <div class="flex items-center gap-1"></div> <button aria-label="Next Page" class="flex items-center justify-center w-10 h-10 rounded-full bg-slate-700 border border-slate-600/50 text-white hover:bg-slate-800 hover:border-slate-700/60 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-300 shadow-lg"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div>');function Dr(r,e){ie(e,!0);let l=W(e,"currentPage",15,1),a=W(e,"totalPages",3,8),o=ge(()=>a()<=4?Array.from({length:a()},(g,L)=>L+1):l()<=2?[1,2,3,"...",a()]:l()>=a()-1?[1,"...",a()-2,a()-1,a()]:[1,"...",l(),"...",a()]);var s=Ir(),i=v(s);i.__click=[zr,l];var u=x(i,2);Y(u,21,()=>t(o),G,(g,L)=>{var k=Ne(),m=be(k);{var P=f=>{var p=jr();S(f,p)},w=f=>{var p=Br();p.__click=[Mr,l,L];var M=v(p,!0);n(p),B(()=>{O(p,1,`flex items-center justify-center w-10 h-10 rounded-full font-medium text-sm transition-all duration-300 
                    ${l()===t(L)?"bg-blue-500/30 backdrop-blur-md text-blue-800 dark:text-background border border-blue-400/50 shadow-lg shadow-blue-500/20 transform scale-105":"bg-white/20 backdrop-blur-md text-gray-700 border dark:text-gray-300 border-white/30 hover:bg-white/30 hover:border-white/40 hover:text-gray-800 shadow-lg hover:shadow-xl hover:scale-102"}`),D(M,t(L))}),S(f,p)};U(m,f=>{t(L)==="..."?f(P):f(w,!1)})}S(g,k)}),n(u);var _=x(u,2);_.__click=[Er,l],n(s),B(()=>{i.disabled=l()===1,_.disabled=l()===a()}),S(r,s),ne()}oe(["click"]);var Nr=j('<div class="size-18 shrink-0"><img alt="Sample Blog" class="w-full h-18 object-cover rounded-lg"/></div>'),Rr=(r,e,l)=>{r.preventDefault(),e(t(l).replaceAll(" ","-").toLowerCase())},qr=j('<button type="button" class="flex items-center gap-4 mb-4"><span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm font-semibold cursor-pointer hover:shadow-sm"> </span></button>'),Or=j('<article><!> <div class="content flex-1"><a class="text-2xl font-bold mb-4 text-gray-800 dark:text-gray-100 hover:text-primary transition-colors"> </a> <p class="text-gray-700 dark:text-gray-300 leading-relaxed mb-4"> </p> <!> <div class="flex flex-col sm:flex-row items-end sm:items-center justify-end gap-2 text-gray-600 dark:text-gray-400"><span class="text-sm"> </span> <span class="text-xs hidden sm:inline-block">•</span> <span class="text-xs"> </span></div></div></article>'),Tr=(r,e,l)=>{z(e,"category"),z(l,"")},$r=j('<h2 class="flex items-center backdrop-blur relative z-10 text-4xl rounded-full font-mono cursor-pointer font-bold mb-4 p-2 bg-blue-800/20 w-fit text-blue-500"> <button type="button" aria-label="Clear tag filter" class="ml-2 bg-blue-800/20 text-sm rounded-full text-gray-200 py-1 px-2 hover:bg-blue-800/30 hover:text-white transition-colors duration-300">x</button></h2> <!>',1),Fr=(r,e)=>z(e,!t(e)),Vr=j(`<div id="posts" class="max-w-screen flex overflow-x-clip px-4 py-3"><section class="grid shrink-0 w-full grid-cols-[minmax(0,1fr)_5.5rem] md:grid-cols-[minmax(0,2fr)_1fr] md:gap-4 max-w-6xl mx-auto
    transition-all duration-300"><main><!> <div class="pt-3"><!> <!></div></main> <!> <button type="button" class="md:hidden sticky top-[7rem] mr-3.5 justify-self-center h-[calc(100vh-7.75rem)] transition-all duration-300
      ease-in-out" aria-label="Brings the Aside Drawer"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></section> <!></div>`);function Xr(r,e){ie(e,!0);const l=(h,A=fe,J=fe)=>{var I=Or();let F;var T=v(I);{var te=H=>{var R=Nr(),ke=v(R);n(R),B(()=>N(ke,"src",A().imgSrc)),S(H,R)};U(T,H=>{A().imgSrc&&H(te)})}var ae=x(T,2),V=v(ae),ue=v(V,!0);n(V);var K=x(V,2),de=v(K,!0);n(K);var xe=x(K,2);Y(xe,17,()=>A().tags,G,(H,R,ke,Hr)=>{var ee=qr();ee.__click=[Rr,k,R];var Pe=v(ee),Fe=v(Pe,!0);n(Pe),n(ee),B(()=>{N(ee,"aria-label",`View posts in #${t(R)}`),D(Fe,t(R))}),S(H,ee)});var we=x(xe,2),ce=v(we),Te=v(ce);n(ce);var ye=x(ce,4),$e=v(ye,!0);n(ye),n(we),n(ae),n(I),B((H,R)=>{F=O(I,1,"relative z-10 flex flex-col sm:flex-row gap-3 cursor-pointer bg-gray-200/80 dark:bg-blue-950/80 backdrop-blur rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow border border-blue-100 dark:border-gray-700",null,F,H),N(V,"href",`/blog/post/${A().slug}`),N(V,"aria-label",`Read ${A().title}`),D(ue,A().title),D(de,A().description),D(Te,`By ${A().author??""}`),D($e,R)},[()=>({"mb-6":!J()}),()=>new Date(A().date).toLocaleDateString()]),S(h,I)};let a=W(e,"posts",7),o=W(e,"currCategory",7,"all"),s=W(e,"currPage",7,1),i=q("category"),u=q(he(e.totalPosts)),_=q(""),g=q(!1);X(()=>{(async()=>t(_)?z(u,await Z.fetch(`
        count(*[_type == "post" && defined(slug) && "${t(_)}" in tags[]->slug.current])
      `),!0):z(u,await Z.fetch(`
        count(*[_type == "post" && defined(slug) 
          ${o()!=="all"?`&& "${o()}" in categories[]->slug.current`:""}
        ])
      `),!0))()}),X(()=>{o(),t(_);let h=[(s()-1)*8,s()*8-1];console.log("Fetching posts for page:",s(),"Range:",h),Q(async()=>{a(await Z.fetch(`
        *[_type == "post" && defined(slug)
         ${o()!=="all"?`&& "${o()}" in categories[]->slug.current `:""}
         ${t(_)?`&& "${t(_)}" in tags[]->slug.current`:""}         
         ]
         | order(publishedAt desc){
          ${Lr}
        }[${h[0]}..${h[1]}] 
      `)),console.log("Fetched posts:",a())})});function L(h){z(i,"category"),z(_,""),s(1),o(h)}function k(h){z(i,"tag"),s(1),z(_,h,!0)}X(()=>{a(),t(P);let h=document.querySelector(".zig-zag"),A=document.querySelector(".wrapper").clientHeight;h.style.height=`${A+45}px`});let m=q(null),P=q("");X(()=>{function h(){z(P,t(m)&&-t(m).clientWidth+"px",!0),console.log("Posts section width:",t(P))}return h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}});var w=Vr(),f=v(w),p=v(f);let M;var b=v(p);Sr(b,{onCategoryClick:L,get currCategory(){return o()},get categories(){return e.categories},className:"sticky top-[7rem] z-50"});var C=x(b,2),y=v(C);{var c=h=>{var A=Ne(),J=be(A);Y(J,17,a,G,(I,F,T)=>{l(I,()=>t(F),()=>T==a().length-1)}),S(h,A)},d=(h,A)=>{{var J=I=>{var F=$r(),T=be(F),te=v(T),ae=x(te);ae.__click=[Tr,i,_],n(T);var V=x(T,2);Y(V,17,a,G,(ue,K,de)=>{l(ue,()=>t(K),()=>de==a().length-1)}),B(()=>D(te,`#${t(_)??""}`)),S(I,F)};U(h,I=>{t(i)==="tag"&&I(J)},A)}};U(y,h=>{t(i)==="category"?h(c):h(d,!1)})}var E=x(y,2);const $=ge(()=>Math.ceil(t(u)/8));Dr(E,{get totalPages(){return t($)},get currentPage(){return s()},set currentPage(h){s(h)}}),n(C),n(p),pe(p,h=>z(m,h),()=>t(m));var _e=x(p,2);je(_e,{className:"hidden md:flex",get popularPosts(){return e.popularPosts}});var re=x(_e,2);re.__click=[Fr,g];var Re=v(re);let me;n(re),n(f);var qe=x(f,2);const Oe=ge(()=>(t(g)?"w-[calc(100%-5.5rem)] shrink-0 translate-x-[-100%]":"")+" flex md:hidden ml-[-1rem] transition-all duration-300 ease-in-out");je(qe,{get className(){return t(Oe)},get popularPosts(){return e.popularPosts}}),n(w),B((h,A)=>{M=O(p,1,"max-w-full transition-transform duration-300 ease-in-out",null,M,h),vr(re,t(g)?`translate: ${t(P)}`:""),me=O(Re,0,"size-14 bg-gray-300/40 transition-all ease-in duration-200 rounded-full p-2 shadow-sm",null,me,A)},[()=>({"translate-x-[-100%]":t(g)}),()=>({"rotate-180":!t(g)})]),S(r,w),ne()}oe(["click"]);export{Xr as default};
